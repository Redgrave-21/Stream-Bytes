<!DOCTYPE html>
<html>

<head>
    <title>StreamBytes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div *ngIf="id" class="card-img-top mb-3" style="text-align:center">
        <!-- <video width="60%" height="400" source src="http://localhost:3000/play/{{id}}" controls> -->
        <video source width="60%" height="40%" source src="{{apiUrl}}/play/{{id}}" controls>
            there is no video to play
        </video><br>
        <div class="row mx-auto">
            <div class="col">
                <i class="fa fa-eye"></i>
                <h6>{{video.views}}</h6>
                <p>Views</p>
            </div>
            <div class="col">
                <button type="button" id="button-like" class="fa-regular fa-thumbs-up" (click)="addLike()"></button>
                <h6>{{video.likes.length}}</h6>
                <p>Likes</p>
            </div>
            <div class="col">
                <button type="button" id="button-dislike" class="fa-regular fa-thumbs-down"
                    (click)="addDislike()"></button>
                <h6>{{video.dislikes.length}}&nbsp;</h6>
                <p>Dislikes</p>
            </div>
        </div>
        <div class="row mx-auto" id="title-div">
            <div class="col">
                <h2 id="video-title">{{video.title}}</h2>
            </div>
        </div>
        <div class="row mx-auto" id="author-div">
            <!-- <p><b>Uploaded By &nbsp;</b>{{video.author}}</p> -->
            &nbsp;&nbsp;&nbsp;&nbsp;
            <!-- <h2 id="author">Uploaded by </h2> -->
            <div id="author">
                <p>{{video.author}}</p>
            </div>
            <div>
                <p>{{video.date}}</p>
            </div>
        </div>
    </div>
    <button type="button" class="btn btn-warning" id="add-to-playlist" (click)="addToPlaylist()">Add to
        playlist</button>
    <br><br>

    <div id="description-div">
        <hr>
        <div class="row">
            <h2 id="description">Description</h2>
            <p>&nbsp;{{video.description}}</p>
        </div>
    </div>
    <br>
    <hr>
    <br>
    <div>
        <button type="button" id="add-button" class="btn btn-warning" (click)="checkloggedin()">Add Comment</button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </div>
    <div *ngIf="addCommentDiv" class="mx-auto" style="width:500px">
        <form [formGroup]="commentForm" (ngSubmit)="addComment()">
            <div class="mb-3">
                <label for="text" id="comment-label">new Comment</label>
                <textarea id="text" class="form-control" row="5" col="50" formControlName="text"></textarea>
            </div>
            <button type="submit" class="btn btn-warning" id="add-comment-form"> add comment</button>
        </form>
    </div>
    <h2 class="mt-5" id="comments"><i class="fa-solid fa-comments"></i> Comments</h2>
    <div *ngIf="video.comments">
        &nbsp;
        <div id="comment-div" class="row card card-body p-3 mb-0 text-white" *ngFor="let comment of video.comments">
            <blockquote class="blockquote" id="comment-author">&nbsp; &nbsp;{{comment.author}}&nbsp;&nbsp;
            </blockquote><br>
            &nbsp; &nbsp; &nbsp; &nbsp;<p id="comment-text">{{comment.text}}</p><br>
            &nbsp; &nbsp; &nbsp; &nbsp;<p id="comment-date">{{comment.date}}</p>
        </div>
    </div>
</body>

</html>